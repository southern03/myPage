<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Page | 메인</title>
  <link rel="stylesheet" href="../css/main.css" />
</head>
<body>
  <header>
    <nav aria-label="주요">
      <a class="brand" href="./main.html">MyPage</a>
      <ul>
        <li><a href="./login.html" id="navLogin">로그인</a></li>
        <li><a href="./signup.html" id="navSignup">회원가입</a></li>
        <li><button id="logoutBtn" class="ghost" hidden>로그아웃</button></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="hero" aria-labelledby="heroTitle">
      <h1 id="heroTitle">안녕하세요! 👋</h1>
      <p>GitHub Pages로 배포 가능한 데모 사이트입니다. 시맨틱 태그를 사용하고, 클라이언트 사이드 검증과 간단한 스토리지를 통해 흐름을 체험할 수 있습니다.</p>
      <div class="cta">
        <a class="btn primary" href="./login.html">로그인</a>
        <a class="btn" href="./signup.html">회원가입</a>
      </div>
    </section>

    <section aria-labelledby="profileTitle" class="card">
      <h2 id="profileTitle">자기소개</h2>
      <article>
        <p>
          이 페이지는 <strong>AI 보조(코파일럿 스타일)</strong>로 입력 유효성 피드백을 제공하고,<br/>
          닉네임 중복 확인·비밀번호 강도 규칙·주소 검색(카카오 우편번호) 등을 보여줍니다.
        </p>
      </article>
      <aside id="welcomeBox" hidden>
        <p><strong id="welcomeName"></strong>님, 환영합니다 🙌</p>
      </aside>
    </section>
  </main>

  <footer>
    <small>© 2025 MyPage Demo</small>
  </footer>

  <script>
    // 간단한 로그인 상태 표시
    const user = JSON.parse(localStorage.getItem("currentUser") || "null");
    const navLogin = document.getElementById("navLogin");
    const navSignup = document.getElementById("navSignup");
    const logoutBtn = document.getElementById("logoutBtn");
    const welcomeBox = document.getElementById("welcomeBox");
    const welcomeName = document.getElementById("welcomeName");

    if (user) {
      navLogin.style.display = "none";
      navSignup.style.display = "none";
      logoutBtn.hidden = false;
      welcomeBox.hidden = false;
      welcomeName.textContent = user.nickname || user.name || user.email;
    }

    logoutBtn?.addEventListener("click", () => {
      localStorage.removeItem("currentUser");
      location.reload();
    });
  </script>
</body>
</html>
